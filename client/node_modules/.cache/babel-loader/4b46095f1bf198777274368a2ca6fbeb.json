{"ast":null,"code":"import _objectSpread from \"/var/www/html/chat-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/var/www/html/chat-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/var/www/html/chat-app/client/src/Frontpage.js\";\nimport React, { useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport TextField from \"@material-ui/core/TextField\";\nimport validator from \"validator\";\n\nconst Registration = props => {\n  const _useState = useState({\n    name: \"\",\n    email: \"\"\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        token = _useState2[0],\n        setToken = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        error = _useState4[0],\n        setError = _useState4[1];\n\n  const handleChange = e => {\n    setToken(_objectSpread({}, token, {\n      [e.target.name]: e.target.value\n    }));\n  };\n\n  const validate = () => {\n    const name = token.name,\n          email = token.email;\n    const existingUser = props.users.some(function (user) {\n      return user.email === email;\n    });\n\n    if (!name.length) {\n      setError(\"Name is required\");\n    }\n\n    if (!validator.isEmail(email)) {\n      setError(\"Valid email is required\");\n    }\n\n    if (existingUser) {\n      setError(\"Email already in use\");\n    }\n\n    if (name.length && validator.isEmail(email) && !existingUser) {\n      setError(\"\");\n      props.createUser(email, name);\n      localStorage[\"token\"] = JSON.stringify(token);\n    }\n  };\n\n  const name = token.name,\n        email = token.email;\n  return /*#__PURE__*/React.createElement(Paper, {\n    elevation: 3,\n    className: \"paper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, \"User Details\", /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    id: \"outlined-name\",\n    label: \"Name\",\n    name: \"name\",\n    value: name,\n    onChange: handleChange,\n    variant: \"outlined\",\n    style: {\n      margin: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    required: true,\n    id: \"outlined-email-input\",\n    type: \"email\",\n    label: \"Email\",\n    name: \"email\",\n    value: email,\n    onChange: handleChange,\n    variant: \"outlined\",\n    className: \"text-area\",\n    style: {\n      margin: 10\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: validate,\n    style: {\n      margin: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, \"Enter Chat\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, error));\n};\n\nexport default Registration;","map":{"version":3,"sources":["/var/www/html/chat-app/client/src/Frontpage.js"],"names":["React","useState","Button","Paper","TextField","validator","Registration","props","name","email","token","setToken","error","setError","handleChange","e","target","value","validate","existingUser","users","some","user","length","isEmail","createUser","localStorage","JSON","stringify","margin"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,WAAtB;;AAEA,MAAMC,YAAY,GAAGC,KAAK,IAAI;AAAA,oBACFN,QAAQ,CAAC;AAAEO,IAAAA,IAAI,EAAE,EAAR;AAAYC,IAAAA,KAAK,EAAE;AAAnB,GAAD,CADN;AAAA;AAAA,QACrBC,KADqB;AAAA,QACdC,QADc;;AAAA,qBAEFV,QAAQ,CAAC,EAAD,CAFN;AAAA;AAAA,QAErBW,KAFqB;AAAA,QAEdC,QAFc;;AAI5B,QAAMC,YAAY,GAAGC,CAAC,IAAI;AACxBJ,IAAAA,QAAQ,mBAAMD,KAAN;AAAa,OAACK,CAAC,CAACC,MAAF,CAASR,IAAV,GAAiBO,CAAC,CAACC,MAAF,CAASC;AAAvC,OAAR;AACD,GAFD;;AAIA,QAAMC,QAAQ,GAAG,MAAM;AAAA,UACbV,IADa,GACGE,KADH,CACbF,IADa;AAAA,UACPC,KADO,GACGC,KADH,CACPD,KADO;AAGrB,UAAMU,YAAY,GAAGZ,KAAK,CAACa,KAAN,CAAYC,IAAZ,CAAiB,UAASC,IAAT,EAAe;AACnD,aAAOA,IAAI,CAACb,KAAL,KAAeA,KAAtB;AACD,KAFoB,CAArB;;AAIA,QAAI,CAACD,IAAI,CAACe,MAAV,EAAkB;AAChBV,MAAAA,QAAQ,CAAC,kBAAD,CAAR;AACD;;AAED,QAAI,CAACR,SAAS,CAACmB,OAAV,CAAkBf,KAAlB,CAAL,EAA+B;AAC7BI,MAAAA,QAAQ,CAAC,yBAAD,CAAR;AACD;;AAED,QAAIM,YAAJ,EAAkB;AAChBN,MAAAA,QAAQ,CAAC,sBAAD,CAAR;AACD;;AAED,QAAIL,IAAI,CAACe,MAAL,IAAelB,SAAS,CAACmB,OAAV,CAAkBf,KAAlB,CAAf,IAA2C,CAACU,YAAhD,EAA8D;AAC5DN,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACAN,MAAAA,KAAK,CAACkB,UAAN,CAAiBhB,KAAjB,EAAwBD,IAAxB;AACAkB,MAAAA,YAAY,CAAC,OAAD,CAAZ,GAAwBC,IAAI,CAACC,SAAL,CAAelB,KAAf,CAAxB;AACD;AACF,GAxBD;;AAR4B,QAkCpBF,IAlCoB,GAkCJE,KAlCI,CAkCpBF,IAlCoB;AAAA,QAkCdC,KAlCc,GAkCJC,KAlCI,CAkCdD,KAlCc;AAmC5B,sBACE,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAE,CAAlB;AAAqB,IAAA,SAAS,EAAC,OAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAEE,oBAAC,SAAD;AACE,IAAA,QAAQ,MADV;AAEE,IAAA,EAAE,EAAC,eAFL;AAGE,IAAA,KAAK,EAAC,MAHR;AAIE,IAAA,IAAI,EAAC,MAJP;AAKE,IAAA,KAAK,EAAED,IALT;AAME,IAAA,QAAQ,EAAEM,YANZ;AAOE,IAAA,OAAO,EAAC,UAPV;AAQE,IAAA,KAAK,EAAE;AAAEe,MAAAA,MAAM,EAAE;AAAV,KART;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAYE,oBAAC,SAAD;AACE,IAAA,QAAQ,MADV;AAEE,IAAA,EAAE,EAAC,sBAFL;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,KAAK,EAAC,OAJR;AAKE,IAAA,IAAI,EAAC,OALP;AAME,IAAA,KAAK,EAAEpB,KANT;AAOE,IAAA,QAAQ,EAAEK,YAPZ;AAQE,IAAA,OAAO,EAAC,UARV;AASE,IAAA,SAAS,EAAC,WATZ;AAUE,IAAA,KAAK,EAAE;AAAEe,MAAAA,MAAM,EAAE;AAAV,KAVT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,eAwBE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,WAAhB;AAA4B,IAAA,OAAO,EAAEX,QAArC;AAA+C,IAAA,KAAK,EAAE;AAAEW,MAAAA,MAAM,EAAE;AAAV,KAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAxBF,eA2BE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMjB,KAAN,CA3BF,CADF;AA+BD,CAlED;;AAoEA,eAAeN,YAAf","sourcesContent":["import React, { useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport TextField from \"@material-ui/core/TextField\";\nimport validator from \"validator\";\n\nconst Registration = props => {\n  const [token, setToken] = useState({ name: \"\", email: \"\" });\n  const [error, setError] = useState(\"\");\n\n  const handleChange = e => {\n    setToken({ ...token, [e.target.name]: e.target.value });\n  };\n\n  const validate = () => {\n    const { name, email } = token;\n\n    const existingUser = props.users.some(function(user) {\n      return user.email === email;\n    });\n\n    if (!name.length) {\n      setError(\"Name is required\");\n    }\n\n    if (!validator.isEmail(email)) {\n      setError(\"Valid email is required\");\n    }\n\n    if (existingUser) {\n      setError(\"Email already in use\");\n    }\n\n    if (name.length && validator.isEmail(email) && !existingUser) {\n      setError(\"\");\n      props.createUser(email, name);\n      localStorage[\"token\"] = JSON.stringify(token);\n    }\n  };\n\n  const { name, email } = token;\n  return (\n    <Paper elevation={3} className=\"paper\">\n      User Details\n      <TextField\n        required\n        id=\"outlined-name\"\n        label=\"Name\"\n        name=\"name\"\n        value={name}\n        onChange={handleChange}\n        variant=\"outlined\"\n        style={{ margin: 10 }}\n      />\n      <TextField\n        required\n        id=\"outlined-email-input\"\n        type=\"email\"\n        label=\"Email\"\n        name=\"email\"\n        value={email}\n        onChange={handleChange}\n        variant=\"outlined\"\n        className=\"text-area\"\n        style={{ margin: 10 }}\n      />\n      <Button variant=\"contained\" onClick={validate} style={{ margin: 15 }}>\n        Enter Chat\n      </Button>\n      <div>{error}</div>\n    </Paper>\n  );\n};\n\nexport default Registration;\n"]},"metadata":{},"sourceType":"module"}